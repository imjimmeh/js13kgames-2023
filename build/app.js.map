{
  "version": 3,
  "sources": ["../src/ecs/core/component.ts", "../src/ecs/additions/components/controlled-by.ts", "../src/ecs/helpers/maths.ts", "../src/ecs/helpers/maths-vectors.ts", "../src/ecs/additions/components/movement.ts", "../src/ecs/additions/components/colour.ts", "../src/ecs/additions/components/position.ts", "../src/ecs/additions/components/size.ts", "../src/ecs/additions/shape-factory.ts", "../src/ecs/core/system.ts", "../src/ecs/additions/systems/input.ts", "../src/ecs/additions/systems/movement.ts", "../src/ecs/core/renderer.ts", "../src/ecs/additions/systems/renderer.ts", "../src/ecs/core/engine.ts", "../src/ecs/core/entity-components.ts", "../src/ecs/core/entity.ts", "../src/ecs-testing/testing.ts"],
  "sourcesContent": ["export abstract class Component implements ComponentFields {\r\n  name: string;\r\n\r\n  constructor({ name }: ComponentFields) {\r\n    this.name = name;\r\n  }\r\n}\r\n\r\ntype ComponentFields = {\r\n  name: string;\r\n};\r\n", "import { Component } from \"../../core/component\";\r\n\r\nexport class ControlledByComponent extends Component {\r\n  controlledBy: ControlledBy;\r\n\r\n  constructor(controlledBy: ControlledBy) {\r\n    super({ name: \"ControlledBy\" });\r\n    this.controlledBy = controlledBy;\r\n  }\r\n}\r\n\r\nexport enum ControlledBy {\r\n  Player = \"Player\",\r\n  AI = \"AI\",\r\n}\r\n", "export const lerp = (start: number, end: number, factor: number) =>\r\n  (start + (end - start)) * factor;\r\n\r\nexport const approxZero = (n: number) => n < 0.00001 && n > -0.00001;\r\n", "import { Vector } from \"../additions/components/position\";\r\nimport { approxZero, lerp } from \"./maths\";\r\n\r\nexport const lerpVector = (a: Vector, b: Vector, factor: number): Vector => {\r\n  const x = lerp(a.x, b.x, factor);\r\n  const y = lerp(a.y, b.y, factor);\r\n\r\n  return {\r\n    x,\r\n    y,\r\n  };\r\n};\r\n\r\nexport const addVector = (a: Vector, b: Vector): Vector => {\r\n  return {\r\n    x: a.x + b.x,\r\n    y: a.y + b.y,\r\n  };\r\n};\r\n\r\nexport const multiplyVector = (a: Vector, b: number): Vector => {\r\n  return {\r\n    x: a.x * b,\r\n    y: a.y * b,\r\n  };\r\n};\r\n\r\nexport const approxZeroVector = ({ x, y }: Vector): boolean =>\r\n  approxZero(x) && approxZero(y);\r\n\r\nexport const clampVector = (v: Vector, min: number, max: number): Vector => {\r\n  return {\r\n    x: Math.min(Math.max(v.x, min), max),\r\n    y: Math.min(Math.max(v.y, min), max),\r\n  };\r\n};\r\n", "import { Component } from \"../../core/component\";\r\nimport { approxZero } from \"../../helpers/maths\";\r\nimport {\r\n  addVector,\r\n  approxZeroVector,\r\n  lerpVector,\r\n  multiplyVector,\r\n} from \"../../helpers/maths-vectors\";\r\nimport { Vector } from \"./position\";\r\n\r\nexport class Movement extends Component {\r\n  vector: Vector;\r\n  acceleration: Vector = { x: 0, y: 0 };\r\n  velocity: Vector = { x: 0, y: 0 };\r\n  maxSpeed: number;\r\n\r\n  constructor({ vector, maxSpeed }: Partial<Movement>) {\r\n    super({ name: \"Movement\" });\r\n    this.vector = vector ?? { x: 0, y: 0 };\r\n    this.maxSpeed = maxSpeed ?? 2;\r\n  }\r\n\r\n  updateSpeed() {\r\n    if (approxZero(this.vector.x)) {\r\n      this.velocity.x = 0;\r\n      this.acceleration.x = 0;\r\n    }\r\n    if (approxZero(this.vector.y)) {\r\n      this.velocity.y = 0;\r\n      this.acceleration.y = 0;\r\n    }\r\n\r\n    if (approxZeroVector(this.vector)) {\r\n      return;\r\n    }\r\n\r\n    this.acceleration = addVector(\r\n      this.acceleration,\r\n      multiplyVector(this.vector, 0.1)\r\n    );\r\n\r\n    this.velocity = lerpVector(\r\n      this.velocity,\r\n      addVector(this.velocity, this.acceleration),\r\n      1\r\n    );\r\n\r\n    const negativeMaxSpeed = this.maxSpeed * -1;\r\n\r\n    if (this.velocity.x > this.maxSpeed) {\r\n      this.velocity.x = this.maxSpeed;\r\n    } else if (this.velocity.x < negativeMaxSpeed) {\r\n      this.velocity.x = negativeMaxSpeed;\r\n    }\r\n\r\n    if (this.velocity.y > this.maxSpeed) {\r\n      this.velocity.y = this.maxSpeed;\r\n    } else if (this.velocity.y < negativeMaxSpeed) {\r\n      this.velocity.y = negativeMaxSpeed;\r\n    }\r\n\r\n    console.log(this.velocity, this.acceleration, this.vector);\r\n  }\r\n}\r\n", "import { Component } from \"../../core/component\";\r\n\r\nexport interface IColour {\r\n  r: number;\r\n  g: number;\r\n  b: number;\r\n  a: number;\r\n}\r\n\r\nexport class Colour extends Component implements IColour {\r\n  r: number;\r\n  g: number;\r\n  b: number;\r\n  a: number;\r\n\r\n  constructor({ r, g, b, a }: IColour) {\r\n    super({ name: \"Colour\" });\r\n    this.r = r;\r\n    this.g = g;\r\n    this.b = b;\r\n    this.a = a;\r\n\r\n    this.toRgb = this.toRgb.bind(this);\r\n  }\r\n\r\n  toRgb = (): string => `rgb(${this.r}, ${this.g}, ${this.b}, ${this.a})`;\r\n}\r\n", "import { Component } from \"../../core/component\";\r\n\r\nexport const PositionName = \"Position\";\r\n\r\nexport class Position extends Component implements Vector {\r\n  x: number;\r\n  y: number;\r\n\r\n  constructor({ x, y }: Partial<Position>) {\r\n    super({ name: PositionName });\r\n\r\n    this.x = x ?? 0;\r\n    this.y = y ?? 0;\r\n  }\r\n}\r\n\r\nexport type Vector = {\r\n  x: number;\r\n  y: number;\r\n};\r\n", "import { Component } from \"../../core/component\";\r\n\r\nexport interface ISize {\r\n  width: number;\r\n  height: number;\r\n}\r\n\r\nexport class Size extends Component implements ISize {\r\n  width: number;\r\n  height: number;\r\n\r\n  constructor({ width, height }: ISize) {\r\n    super({ name: \"Size\" });\r\n    this.width = width;\r\n    this.height = height;\r\n  }\r\n}\r\n", "import { Colour } from \"./components/colour\";\r\nimport { Position } from \"./components/position\";\r\nimport { Size } from \"./components/size\";\r\n\r\nfunction* createRectangle() {\r\n  yield new Colour({ r: 255, g: 0, b: 0, a: 255 });\r\n  yield new Position({ x: 0, y: 0 });\r\n  yield new Size({ width: 200, height: 200 });\r\n}\r\n\r\nexport { createRectangle };\r\n", "import { IEngine } from \"./engine\";\r\nimport { Entity } from \"./entity\";\r\n\r\nexport abstract class System {\r\n  abstract accepts(entity: Entity): boolean;\r\n\r\n  abstract init(): void;\r\n\r\n  abstract update({ entities, systems }: IEngine): void;\r\n\r\n  getAcceptedEntities(entities: Entity[]): IterableIterator<Entity> {\r\n    return getEntitiesForQuery(entities, this);\r\n  }\r\n}\r\n\r\nconst getEntitiesForQuery = function* (\r\n  entities: Entity[],\r\n  system: System\r\n): IterableIterator<Entity> {\r\n  for (const entity of entities) {\r\n    if (system.accepts(entity)) {\r\n      yield entity;\r\n    }\r\n  }\r\n};\r\n", "import { IEngine } from \"../../core/engine\";\r\nimport { Entity } from \"../../core/entity\";\r\nimport { System } from \"../../core/system\";\r\nimport {\r\n  ControlledBy,\r\n  ControlledByComponent,\r\n} from \"../components/controlled-by\";\r\nimport { Movement } from \"../components/movement\";\r\n\r\nexport class InputSystem extends System {\r\n  keyStates: Map<string, KeyState> = new Map<string, KeyState>();\r\n\r\n  constructor() {\r\n    super();\r\n    this.init = this.init.bind(this);\r\n    this.onKeyDown = this.onKeyDown.bind(this);\r\n    this.onKeyUp = this.onKeyUp.bind(this);\r\n  }\r\n\r\n  accepts(entity: Entity): boolean {\r\n    const component =\r\n      entity.components.get<ControlledByComponent>(\"ControlledBy\");\r\n\r\n    if (!component) return false;\r\n\r\n    return (\r\n      component.controlledBy == ControlledBy.Player &&\r\n      entity.components.has(\"Movement\")\r\n    );\r\n  }\r\n\r\n  init(): void {\r\n    document.addEventListener(\"keydown\", this.onKeyDown);\r\n    document.addEventListener(\"keyup\", this.onKeyUp);\r\n  }\r\n\r\n  update({ entities }: IEngine): void {\r\n    for (const state of this.keyStates) {\r\n      if (state[1] == KeyState.Pressed) {\r\n        this.keyStates.set(state[0], KeyState.Held);\r\n      }\r\n    }\r\n\r\n    const xDirection = this.getAxisVector(\"ArrowLeft\", \"ArrowRight\");\r\n    const yDirection = this.getAxisVector(\"ArrowUp\", \"ArrowDown\");\r\n\r\n    for (const entity of this.getAcceptedEntities(entities)) {\r\n      const movement = entity.components.get<Movement>(\"Movement\");\r\n      movement!.vector.y = yDirection;\r\n      movement!.vector.x = xDirection;\r\n    }\r\n  }\r\n\r\n  private getAxisVector(positiveKey: string, negativeKey: string) {\r\n    const up =\r\n      (this.keyStates.get(positiveKey) ?? KeyState.Released) !=\r\n      KeyState.Released\r\n        ? 1\r\n        : 0;\r\n\r\n    const down =\r\n      (this.keyStates.get(negativeKey) ?? KeyState.Released) !=\r\n      KeyState.Released\r\n        ? -1\r\n        : 0;\r\n\r\n    return up + down;\r\n  }\r\n\r\n  onKeyDown(event: KeyboardEvent) {\r\n    this.keyStates.set(event.key, KeyState.Pressed);\r\n  }\r\n\r\n  onKeyUp(event: KeyboardEvent) {\r\n    this.keyStates.set(event.key, KeyState.Released);\r\n  }\r\n}\r\n\r\nenum KeyState {\r\n  Released = \"Released\",\r\n  Pressed = \"Pressed\",\r\n  Held = \"Held\",\r\n}\r\n", "import { IEngine } from \"../../core/engine\";\r\nimport { Entity } from \"../../core/entity\";\r\nimport { System } from \"../../core/system\";\r\nimport {\r\n  addVector,\r\n  approxZeroVector,\r\n  lerpVector,\r\n} from \"../../helpers/maths-vectors\";\r\nimport { Movement } from \"../components/movement\";\r\nimport { Position, PositionName } from \"../components/position\";\r\n\r\nexport class MovementSystem extends System {\r\n  accepts(entity: Entity): boolean {\r\n    return (\r\n      entity.components.has(PositionName) && entity.components.has(\"Movement\")\r\n    );\r\n  }\r\n\r\n  init(): void {}\r\n\r\n  update({ entities }: IEngine): void {\r\n    for (const entity of this.getAcceptedEntities(entities)) {\r\n      const position = entity.components.get<Position>(PositionName)!;\r\n      const movement = entity.components.get<Movement>(\"Movement\")!;\r\n\r\n      movement.updateSpeed();\r\n\r\n      position.x += movement.acceleration.x;\r\n      position.y += movement.acceleration.y;\r\n    }\r\n  }\r\n}\r\n", "export class Renderer {\r\n  private _canvas: HTMLCanvasElement;\r\n  private _context: CanvasRenderingContext2D;\r\n\r\n  constructor() {\r\n    const canvas = document.querySelector(\"canvas\");\r\n\r\n    if (!canvas) throw \"Could not find canvas\";\r\n\r\n    this._canvas = canvas;\r\n    this._context = this._canvas.getContext(\"2d\")!;\r\n  }\r\n\r\n  get canvas(): HTMLCanvasElement {\r\n    return this._canvas;\r\n  }\r\n\r\n  get context(): CanvasRenderingContext2D {\r\n    return this._context;\r\n  }\r\n\r\n  init() {\r\n    this._canvas.width = window.innerWidth;\r\n    this._canvas.height = window.innerHeight;\r\n  }\r\n\r\n  clearCanvas() {\r\n    this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n  }\r\n}\r\n\r\nexport const instance = new Renderer();\r\n", "import { IEngine } from \"../../core/engine\";\r\nimport { Entity } from \"../../core/entity\";\r\nimport { instance } from \"../../core/renderer\";\r\nimport { System } from \"../../core/system\";\r\nimport { Colour } from \"../components/colour\";\r\nimport { Position, PositionName } from \"../components/position\";\r\nimport { Size } from \"../components/size\";\r\n\r\nconst shapeRendererUpdate = (entity: Entity): void => {\r\n  const size = entity.components.get<Size>(\"Size\");\r\n  const position = entity.components.get<Position>(PositionName);\r\n  const colour = entity.components.get<Colour>(\"Colour\");\r\n\r\n  instance.context.fillStyle = colour!.toRgb();\r\n\r\n  instance.context.fillRect(\r\n    position!.x,\r\n    position!.y,\r\n    size!.width,\r\n    size!.height\r\n  );\r\n};\r\n\r\nexport class RendererSystem extends System {\r\n  accepts(entity: Entity): boolean {\r\n    return (\r\n      entity.components.has(\"Size\") &&\r\n      entity.components.has(PositionName) &&\r\n      entity.components.has(\"Colour\")\r\n    );\r\n  }\r\n\r\n  init(): void {}\r\n\r\n  update({ entities }: IEngine): void {\r\n    instance.clearCanvas();\r\n\r\n    for (const entity of this.getAcceptedEntities(entities)) {\r\n      shapeRendererUpdate(entity);\r\n    }\r\n  }\r\n}\r\n", "import { Entity } from \"./entity\";\r\nimport { instance } from \"./renderer\";\r\nimport { System } from \"./system\";\r\n\r\nexport class Engine implements IEngine {\r\n  systems: System[] = [];\r\n  entities: Entity[] = [];\r\n\r\n  constructor() {\r\n    this.update = this.update.bind(this);\r\n  }\r\n\r\n  init() {\r\n    instance.init();\r\n\r\n    for (const entity of this.entities) {\r\n      entity.init();\r\n    }\r\n\r\n    for (const system of this.systems) {\r\n      system.init();\r\n    }\r\n\r\n    window.requestAnimationFrame(this.update);\r\n  }\r\n\r\n  update() {\r\n    for (const system of this.systems) {\r\n      system.update({ entities: this.entities, systems: this.systems });\r\n    }\r\n\r\n    console.log(`ran update`);\r\n\r\n    window.requestAnimationFrame(this.update);\r\n  }\r\n}\r\n\r\nexport interface IEngine {\r\n  systems: System[];\r\n  entities: Entity[];\r\n}\r\n", "import { Component } from \"./component\";\r\n\r\nexport class Components {\r\n  private components: Map<string, Component> = new Map<string, Component>();\r\n\r\n  add(component: Component): void {\r\n    this.components.set(component.name, component);\r\n  }\r\n\r\n  get<T extends Component>(name: string): T | undefined {\r\n    const component = this.components.get(name);\r\n    if (!component) return undefined;\r\n\r\n    return component as T;\r\n  }\r\n\r\n  has(name: string): boolean {\r\n    return this.components.has(name);\r\n  }\r\n\r\n  all(): IterableIterator<Component> {\r\n    return this.components.values();\r\n  }\r\n}\r\n", "import { Components } from \"./entity-components\";\r\n\r\nexport class Entity {\r\n  components: Components = new Components();\r\n  name: string = \"\";\r\n\r\n  init(): void {\r\n    for (const component of this.components.all()) {\r\n      console.log(component);\r\n    }\r\n\r\n    console.log(`initialised`, this);\r\n  }\r\n}\r\n", "import {\r\n  ControlledBy,\r\n  ControlledByComponent,\r\n} from \"../ecs/additions/components/controlled-by\";\r\nimport { Movement } from \"../ecs/additions/components/movement\";\r\nimport { createRectangle } from \"../ecs/additions/shape-factory\";\r\nimport { InputSystem } from \"../ecs/additions/systems/input\";\r\nimport { MovementSystem } from \"../ecs/additions/systems/movement\";\r\nimport { RendererSystem } from \"../ecs/additions/systems/renderer\";\r\nimport { Engine } from \"../ecs/core/engine\";\r\nimport { Entity } from \"../ecs/core/entity\";\r\n\r\nconst player = new Entity();\r\nplayer.name = \"Player\";\r\n\r\nfor (const component of createRectangle()) {\r\n  player.components.add(component);\r\n}\r\n\r\nplayer.components.add(new Movement({}));\r\nplayer.components.add(new ControlledByComponent(ControlledBy.Player));\r\n\r\nconst engine = new Engine();\r\nengine.entities.push(player);\r\nengine.systems.push(new InputSystem());\r\nengine.systems.push(new MovementSystem());\r\nengine.systems.push(new RendererSystem());\r\nengine.init();\r\n"],
  "mappings": "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",
  "names": ["Component", "name", "ControlledByComponent", "Component", "controlledBy", "lerp", "start", "end", "factor", "approxZero", "n", "lerpVector", "a", "b", "factor", "x", "lerp", "y", "addVector", "multiplyVector", "approxZeroVector", "approxZero", "Movement", "Component", "vector", "maxSpeed", "approxZero", "approxZeroVector", "addVector", "multiplyVector", "lerpVector", "negativeMaxSpeed", "Colour", "Component", "r", "g", "b", "a", "PositionName", "Position", "Component", "x", "y", "Size", "Component", "width", "height", "createRectangle", "Colour", "Position", "Size", "System", "entities", "getEntitiesForQuery", "system", "entity", "InputSystem", "System", "entity", "component", "entities", "state", "xDirection", "yDirection", "movement", "positiveKey", "negativeKey", "up", "down", "event", "MovementSystem", "System", "entity", "PositionName", "entities", "position", "movement", "Renderer", "canvas", "instance", "shapeRendererUpdate", "entity", "size", "position", "PositionName", "colour", "instance", "RendererSystem", "System", "entities", "Engine", "instance", "entity", "system", "Components", "component", "name", "Entity", "Components", "component", "player", "Entity", "component", "createRectangle", "Movement", "ControlledByComponent", "engine", "Engine", "InputSystem", "MovementSystem", "RendererSystem"]
}
